(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/register/register"],{"2e9e":function(e,n,o){"use strict";o.r(n);var t=o("4e1d"),a=o("d573");for(var i in a)"default"!==i&&function(e){o.d(n,e,(function(){return a[e]}))}(i);o("bc1c");var s,r=o("f0c5"),d=Object(r["a"])(a["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],s);n["default"]=d.exports},"4e1d":function(e,n,o){"use strict";var t={pickerAddress:function(){return Promise.all([o.e("common/vendor"),o.e("components/pickerAddress/pickerAddress")]).then(o.bind(null,"9fc1"))}},a=function(){var e=this,n=e.$createElement;e._self._c},i=[];o.d(n,"b",(function(){return a})),o.d(n,"c",(function(){return i})),o.d(n,"a",(function(){return t}))},"6aa8":function(e,n,o){"use strict";(function(e){o("a8a6"),o("921b");t(o("66fd"));var n=t(o("2e9e"));function t(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,o("543d")["createPage"])},a492:function(e,n,o){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=o("567f"),a=t.constant,i=function(){Promise.all([o.e("common/vendor"),o.e("components/pickerAddress/pickerAddress")]).then(function(){return resolve(o("9fc1"))}.bind(null,o)).catch(o.oe)},s={components:{pickerAddress:i},data:function(){return{title:"Hello",areaCode:"",areaName:"请选择地区",communityName:"",communityId:"",appUserName:"",idCard:"",link:"",second:60,msgCode:"",areaShow:!1,btnValue:"验证码",btnDisabled:!1,password:"",rePassword:"",areaList:{province_list:{},city_list:{},county_list:{}}}},onLoad:function(e){var n=this,o=t.getLocation(),a=t.getCurrentLocation(),i=a.city+a.district,s=a.adcode;t._loadArea("","",(function(e){n.areaList=e,n.communityName=o,n.areaCode=s,n.areaName=i}))},onReady:function(){},onShow:function(){if(""==this.areaCode||void 0==this.areaCode){var n=t.getCurrentLocation(),o=n.city+n.district,a=n.adcode;this.areaCode=a,this.areaName=o}else{var i=e.getStorageSync("_selectCommunity");console.log("community",i),null!=i&&void 0!=i&&(this.communityId=i.communityId,this.communityName=i.name)}},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},methods:{sendMsgCode:function(){console.log("获取验证码");var n=this,o={tel:this.link};""!=o.tel?(e.showLoading({title:"加载中",mask:!0}),e.request({url:a.url.userSendSms,header:t.getHeaders(),method:"POST",data:o,success:function(o){if(console.log(o),e.hideLoading(),200==o.statusCode)return wx.showToast({title:"验证码下发成功",icon:"none",duration:2e3}),wx.hideLoading(),void n.timer();wx.hideLoading(),wx.showToast({title:o.data,icon:"none",duration:2e3})},fail:function(e){wx.hideLoading(),wx.showToast({title:"服务器异常了",icon:"none",duration:2e3})}})):wx.showToast({title:"请输入手机号",icon:"none",duration:2e3})},_doRegister:function(n){var o={areaCode:this.areaCode,communityId:this.communityId,communityName:this.communityName,appUserName:this.appUserName,idCard:this.idCard,link:this.link,msgCode:this.msgCode,password:this.password,openId:e.getStorageSync(a.mapping.CURRENT_OPEN_ID)},i="";""==this.password||this.password!=this.rePassword?i="密码和重置密码不一致":""==o.areaCode?i="请选择地区":""==o.communityName?i="请填写小区名称":""==o.appUserName?i="请填写业主名称":""==o.link?i="请填写手机号":""==o.msgCode&&(i="请填写验证码"),""!=i?wx.showToast({title:i,icon:"none",duration:2e3}):(console.log("提交数据",o),e.showLoading({title:"加载中",mask:!0}),e.request({url:a.url.ownerRegiter,header:t.getHeaders(),method:"POST",data:o,success:function(e){if(console.log(e),wx.hideLoading(),200==e.statusCode)return wx.hideLoading(),void wx.redirectTo({url:"/pages/login/login"});wx.showToast({title:e.data,icon:"none",duration:2e3})},fail:function(e){wx.hideLoading(),wx.showToast({title:"服务器异常了",icon:"none",duration:2e3})}}))},change:function(e){var n=this;n.areaName="",e.data.forEach((function(e){n.areaName+=e.name})),n.areaCode=e.data[2].code,console.log(e)},chooseCommunity:function(e){""!=this.areaCode&&void 0!=this.areaCode?wx.navigateTo({url:"/pages/viewCommunitys/viewCommunitys?areaCode="+this.areaCode}):wx.showToast({title:"请先选择地区",icon:"none"})},timer:function(){var e=this,n=new Promise((function(n,o){var t=setInterval((function(){var o=e.second-1;e.second=o,e.btnValue=o+"秒",e.btnDisabled=!0,e.second<=0&&(e.second=60,e.btnValue="获取验证码",e.btnDisabled=!1,n(t))}),1e3)}));n.then((function(e){clearInterval(e)}))}}};n.default=s}).call(this,o("543d")["default"])},bc1c:function(e,n,o){"use strict";var t=o("eb2a"),a=o.n(t);a.a},d573:function(e,n,o){"use strict";o.r(n);var t=o("a492"),a=o.n(t);for(var i in t)"default"!==i&&function(e){o.d(n,e,(function(){return t[e]}))}(i);n["default"]=a.a},eb2a:function(e,n,o){}},[["6aa8","common/runtime","common/vendor"]]]);