(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/payParkingFee/payParkingFee"],{"1e2f":function(e,n,t){"use strict";(function(e){t("b6a3"),t("921b");a(t("66fd"));var n=a(t("ec19"));function a(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("6e42")["createPage"])},"3a8a":function(e,n,t){"use strict";t.r(n);var a=t("3b93"),o=t.n(a);for(var i in a)"default"!==i&&function(e){t.d(n,e,function(){return a[e]})}(i);n["default"]=o.a},"3b93":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=t("8d2a"),o=a.constant,i=a.util,u={data:function(){return{showFeeMonth:!1,feeMonthList:["一个月","半年","一年","两年"],feeMonthName:"一个月",feeMonth:1,endTime:"",ordEndTime:"",amount:0,receivableAmount:0,additionalAmount:0,communityId:"",communityName:"",feeId:"",num:"",typeCdName:"",carNum:""}},components:{},props:{},onLoad:function(n){var t=JSON.parse(n.fee);console.log(e("_fee",t," at pages\\payParkingFee\\payParkingFee.vue:69"));var o=this.feeMonth*t.additionalAmount*100,u=a.getCurrentCommunity(),r=new Date(t.endTime),c=i.date.addMonth(r,this.feeMonth);this.receivableAmount=o,this.communityId=u.communityId,this.communityName=u.communityName,this.num=t.num,this.typeCdName=t.typeCdName,this.carNum=t.carNum,this.feeId=t.feeId,this.additionalAmount=t.additionalAmount,this.endTime=i.date.formatDate(c),this.ordEndTime=t.endTime},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},methods:{chooseMonth:function(){this.showFeeMonth=!0},onFeeMonthConfirm:function(n){console.log(e("onConfirm",n," at pages\\payParkingFee\\payParkingFee.vue:130"));var t=null;t=n.detail.value;var a=1;if("一个月"==t)a=1;else if("半年"==t)a=6;else if("一年"==t)a=12;else{if("两年"!=t)return;a=24}var o=a*this.additionalAmount*100,u=new Date(this.ordEndTime),r=i.date.addMonth(u,a);this.showFeeMonth=!1,this.feeMonthName=t,this.receivableAmount=o,this.feeMonth=a,this.endTime=i.date.formatDate(r)},onFeeMonthChange:function(n){console.log(e(n," at pages\\payParkingFee\\payParkingFee.vue:160"))},onFeeMonthCancel:function(e){this.showFeeMonth=!1},onPayFee:function(){var n=this.receivableAmount/100;wx.showLoading({title:"支付中"});var t={cycles:this.feeMonth,communityId:this.communityId,feeId:this.feeId,feeName:"停车费",receivedAmount:n};a.request({url:o.url.preOrder,header:a.getHeaders(),method:"POST",data:t,success:function(n){if(console.log(e(n," at pages\\payParkingFee\\payParkingFee.vue:185")),200==n.statusCode&&"0"==n.data.code){var t=n.data;return wx.requestPayment({timeStamp:t.timeStamp,nonceStr:t.nonceStr,package:t.package,signType:t.signType,paySign:t.sign,success:function(e){wx.showToast({title:"支付成功",duration:2e3}),wx.navigateBack({})},fail:function(n){console.log(e("fail:"+JSON.stringify(n)," at pages\\payParkingFee\\payParkingFee.vue:204"))}}),void wx.hideLoading()}wx.hideLoading(),wx.showToast({title:"缴费失败",icon:"none",duration:2e3})},fail:function(e){wx.hideLoading(),wx.showToast({title:"服务器异常了",icon:"none",duration:2e3})}})}}};n.default=u}).call(this,t("0de9")["default"])},"65ed":function(e,n,t){},"6ca0":function(e,n,t){"use strict";var a,o=function(){var e=this,n=e.$createElement;e._self._c},i=[];t.d(n,"b",function(){return o}),t.d(n,"c",function(){return i}),t.d(n,"a",function(){return a})},abfa:function(e,n,t){"use strict";var a=t("65ed"),o=t.n(a);o.a},ec19:function(e,n,t){"use strict";t.r(n);var a=t("6ca0"),o=t("3a8a");for(var i in o)"default"!==i&&function(e){t.d(n,e,function(){return o[e]})}(i);t("abfa");var u,r=t("f0c5"),c=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],u);n["default"]=c.exports}},[["1e2f","common/runtime","common/vendor"]]]);