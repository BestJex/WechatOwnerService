{"version":3,"sources":["webpack:///C:/Users/Administrator/Documents/project/hc/OwnerApp/ownerApp/main.js","webpack:///C:/Users/Administrator/Documents/project/hc/OwnerApp/ownerApp/pages/settings/settings.vue?8a18","webpack:///C:/Users/Administrator/Documents/project/hc/OwnerApp/ownerApp/pages/settings/settings.vue?ca12","webpack:///C:/Users/Administrator/Documents/project/hc/OwnerApp/ownerApp/pages/settings/settings.vue?91fa","webpack:///C:/Users/Administrator/Documents/project/hc/OwnerApp/ownerApp/pages/settings/settings.vue?ef2d","webpack:///C:/Users/Administrator/Documents/project/hc/OwnerApp/ownerApp/pages/settings/settings.vue"],"names":["createPage","Page","context","require","constant","factory","data","headerImg","imageList","logoutUser","login","onLoad","options","userInfo","uni","getStorageSync","mapping","OWNER_INFO","loadOwnerHeaderImg","methods","settingHeadImg","_that","wx","chooseImage","count","sizeType","sourceType","success","res","showToast","title","icon","mask","duration","tempFilePaths","console","log","base64","urlTobase64","then","_baseInfo","_uploadOwnerHeaderImg","hideLoading","getOwner","_owner","_headerImg","url","getOwnerPhotoPath","memberId","communityId","_memberId","_communityId","obj","photo","request","uploadOwnerPhoto","header","getHeaders","method","statusCode","fail","e","_logout","_cancleLogout","_toPage","_url","navigateTo","_doLogoutUser","_data","token","userLogout","clearStorageSync","error"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;AACnB;AACA,sG;AACAA,UAAU,CAACC,iBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;;;AAGvD;AACqL;AACrL,gBAAgB,sLAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA+rB,CAAgB,+pBAAG,EAAC,C;;;;;;;;;;;;mICAntB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMC,OAAO,GAAGC,mBAAO,CAAC,yCAAD,CAAvB;AACA,IAAMC,QAAQ,GAAGF,OAAO,CAACE,QAAzB;AACA,IAAMC,OAAO,GAAGH,OAAO,CAACG,OAAxB,C;AACe;AACdC,MADc,kBACP;AACN,WAAO;AACNC,eAAS,EAAE,IADL;AAENC,eAAS,EAAE,EAFL;AAGNC,gBAAU,EAAE,KAHN;AAINC,WAAK,EAAC,IAJA,EAAP;;AAMA,GARa;AASd;;;AAGAC,QAAM,EAAE,gBAASC,OAAT,EAAkB;AACzB,QAAMC,QAAQ,GAAGC,GAAG,CAACC,cAAJ,CAAmBX,QAAQ,CAACY,OAAT,CAAiBC,UAApC,CAAjB;AACA,QAAGJ,QAAQ,IAAI,IAAZ,IAAoBA,QAAQ,IAAI,EAAnC,EAAsC;AACrC,WAAKH,KAAL,GAAa,KAAb;AACA;AACA;AACD,SAAKQ,kBAAL;;AAEA,GApBa;AAqBdC,SAAO,EAAE;AACRC,kBAAc,EAAE,0BAAW;AAC1B,UAAIC,KAAK,GAAG,IAAZ;AACAC,QAAE,CAACC,WAAH,CAAe;AACdC,aAAK,EAAE,CADO;AAEdC,gBAAQ,EAAE,CAAC,UAAD,EAAa,YAAb,CAFI;AAGdC,kBAAU,EAAE,CAAC,OAAD,EAAU,QAAV,CAHE;AAIdC,eAAO,EAAE,iBAASC,GAAT,EAAc;AACtB;AACAN,YAAE,CAACO,SAAH,CAAa;AACZC,iBAAK,EAAE,MADK;AAEZC,gBAAI,EAAE,SAFM;AAGZC,gBAAI,EAAE,IAHM;AAIZC,oBAAQ,EAAE,IAJE,EAAb;;AAMA,cAAIC,aAAa,GAAGN,GAAG,CAACM,aAAxB;AACAC,iBAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBF,aAApB;AACA7B,iBAAO,CAACgC,MAAR,CAAeC,WAAf,CAA2BJ,aAAa,CAAC,CAAD,CAAxC,EAA6CK,IAA7C,CAAkD,UAASC,SAAT,EAAoB;AACrEnB,iBAAK,CAACd,SAAN,GAAkBiC,SAAlB;AACAnB,iBAAK,CAACoB,qBAAN;AACAnB,cAAE,CAACoB,WAAH;AACA,WAJD;AAKA,SAnBa,EAAf;;AAqBA,KAxBO;AAyBR;;;AAGAxB,sBAAkB,EAAE,8BAAW;AAC9B,UAAIG,KAAK,GAAG,IAAZ;AACAnB,aAAO,CAACyC,QAAR,CAAiB,UAASC,MAAT,EAAiB;AACjC,YAAIC,UAAU,GAAGzC,QAAQ,CAAC0C,GAAT,CAAaC,iBAAb,GAAiC,SAAjC,GAA6CH,MAAM,CAACI,QAApD,GAA+D,eAA/D,GAAiFJ,MAAM,CAACK,WAAxF;AAChB,2BADD;AAEA5B,aAAK,CAACd,SAAN,GAAkBsC,UAAlB;AACA,OAJD;AAKA,KAnCO;AAoCRJ,yBAAqB,EAAE,iCAAW;AACjC,UAAIpB,KAAK,GAAG,IAAZ;AACAnB,aAAO,CAACyC,QAAR,CAAiB,UAASC,MAAT,EAAiB;AACjC,YAAIM,SAAS,GAAGN,MAAM,CAACI,QAAvB;AACA,YAAIG,YAAY,GAAGP,MAAM,CAACK,WAA1B;AACA,YAAIG,GAAG,GAAG;AACTJ,kBAAQ,EAAEE,SADD;AAETD,qBAAW,EAAEE,YAFJ;AAGTE,eAAK,EAAEhC,KAAK,CAACd,SAHJ,EAAV;;AAKAL,eAAO,CAACoD,OAAR,CAAgB;AACfR,aAAG,EAAE1C,QAAQ,CAAC0C,GAAT,CAAaS,gBADH;AAEfC,gBAAM,EAAEtD,OAAO,CAACuD,UAAR,EAFO;AAGfC,gBAAM,EAAE,MAHO;AAIfpD,cAAI,EAAE8C,GAJS,EAIJ;AACXzB,iBAAO,EAAE,iBAASC,GAAT,EAAc;AACtBO,mBAAO,CAACC,GAAR,CAAYR,GAAZ;AACA,gBAAIA,GAAG,CAAC+B,UAAJ,IAAkB,GAAtB,EAA2B;AAC1BrC,gBAAE,CAACO,SAAH,CAAa;AACZC,qBAAK,EAAE,QADK;AAEZC,oBAAI,EAAE,MAFM;AAGZE,wBAAQ,EAAE,IAHE,EAAb;;AAKA;AACA;AACD,WAfc;AAgBf2B,cAAI,EAAE,cAASC,CAAT,EAAY;AACjBvC,cAAE,CAACO,SAAH,CAAa;AACZC,mBAAK,EAAE,QADK;AAEZC,kBAAI,EAAE,MAFM;AAGZE,sBAAQ,EAAE,IAHE,EAAb;;AAKA,WAtBc,EAAhB;;AAwBA,OAhCD;;AAkCA,KAxEO;AAyER;AACA6B,WAAO,EAAE,mBAAW;AACnB,WAAKrD,UAAL,GAAkB,IAAlB;AACA,KA5EO;AA6ERsD,iBAAa,EAAE,yBAAW;AACzB,WAAKtD,UAAL,GAAkB,KAAlB;AACA,KA/EO;AAgFRuD,WAAO,EAAC,iBAASC,IAAT,EAAc;AACrBnD,SAAG,CAACoD,UAAJ,CAAe;AACdpB,WAAG,EAACmB,IADU,EAAf;;AAGA,KApFO;AAqFRE,iBAAa,EAAE,yBAAW;AACzB,UAAIC,KAAK,GAAG;AACXC,aAAK,EAAE/C,EAAE,CAACP,cAAH,CAAkB,OAAlB,CADI,EAAZ;;AAGAb,aAAO,CAACoD,OAAR,CAAgB;AACfR,WAAG,EAAE1C,QAAQ,CAAC0C,GAAT,CAAawB,UADH;AAEfd,cAAM,EAAEtD,OAAO,CAACuD,UAAR,EAFO;AAGfC,cAAM,EAAE,MAHO;AAIfpD,YAAI,EAAE8D,KAJS;AAKfzC,eAAO,EAAE,iBAASC,GAAT,EAAc;AACtB,cAAIA,GAAG,CAAC+B,UAAJ,IAAkB,GAAtB,EAA2B;AAC1B7C,eAAG,CAACe,SAAJ,CAAc;AACbE,kBAAI,EAAE,MADO;AAEbD,mBAAK,EAAEF,GAAG,CAACtB,IAFE,EAAd;;AAIA;AACA;AACDQ,aAAG,CAACyD,gBAAJ;AACAzD,aAAG,CAACoD,UAAJ,CAAe;AACdpB,eAAG,EAAC,oBADU,EAAf;;AAGA,SAjBc;AAkBfc,YAAI,EAAE,cAASY,KAAT,EAAgB;AACrB;AACA1D,aAAG,CAACe,SAAJ,CAAc;AACbC,iBAAK,EAAE,QADM,EAAd;;AAGAK,iBAAO,CAACC,GAAR,CAAYoC,KAAZ;AACA,SAxBc,EAAhB;;AA0BA,KAnHO,EArBK,E","file":"pages/settings/settings.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/settings/settings.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./settings.vue?vue&type=template&id=770e968b&\"\nvar renderjs\nimport script from \"./settings.vue?vue&type=script&lang=js&\"\nexport * from \"./settings.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Documents/project/hc/OwnerApp/ownerApp/pages/settings/settings.vue\"\nexport default component.exports","export * from \"-!../../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./settings.vue?vue&type=template&id=770e968b&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./settings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./settings.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst context = require(\"../../context/Java110Context.js\");\nconst constant = context.constant;\nconst factory = context.factory;\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\theaderImg: null,\n\t\t\timageList: [],\n\t\t\tlogoutUser: false,\n\t\t\tlogin:true\n\t\t}\n\t},\n\t/**\n\t * 生命周期函数--监听页面加载\n\t */\n\tonLoad: function(options) {\n\t\tconst userInfo = uni.getStorageSync(constant.mapping.OWNER_INFO);\n\t\tif(userInfo == null || userInfo == ''){\n\t\t\tthis.login = false;\n\t\t\treturn;\n\t\t}\n\t\tthis.loadOwnerHeaderImg();\n\t\t\n\t},\n\tmethods: {\n\t\tsettingHeadImg: function() {\n\t\t\tvar _that = this;\n\t\t\twx.chooseImage({\n\t\t\t\tcount: 1,\n\t\t\t\tsizeType: ['original', 'compressed'],\n\t\t\t\tsourceType: ['album', 'camera'],\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t// console.log(res)\n\t\t\t\t\twx.showToast({\n\t\t\t\t\t\ttitle: '正在上传',\n\t\t\t\t\t\ticon: 'loading',\n\t\t\t\t\t\tmask: true,\n\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t});\n\t\t\t\t\tvar tempFilePaths = res.tempFilePaths\n\t\t\t\t\tconsole.log('头像地址', tempFilePaths);\n\t\t\t\t\tfactory.base64.urlTobase64(tempFilePaths[0]).then(function(_baseInfo) {\n\t\t\t\t\t\t_that.headerImg = _baseInfo;\n\t\t\t\t\t\t_that._uploadOwnerHeaderImg();\n\t\t\t\t\t\twx.hideLoading()\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t/**\n\t\t * 查询业主头像\n\t\t */\n\t\tloadOwnerHeaderImg: function() {\n\t\t\tlet _that = this;\n\t\t\tcontext.getOwner(function(_owner) {\n\t\t\t\tlet _headerImg = constant.url.getOwnerPhotoPath + \"?objId=\" + _owner.memberId + \"&communityId=\" + _owner.communityId +\n\t\t\t\t\t\"&fileTypeCd=10000\" ;\n\t\t\t\t_that.headerImg = _headerImg;\n\t\t\t});\n\t\t},\n\t\t_uploadOwnerHeaderImg: function() {\n\t\t\tlet _that = this;\n\t\t\tcontext.getOwner(function(_owner) {\n\t\t\t\tlet _memberId = _owner.memberId;\n\t\t\t\tlet _communityId = _owner.communityId;\n\t\t\t\tlet obj = {\n\t\t\t\t\tmemberId: _memberId,\n\t\t\t\t\tcommunityId: _communityId,\n\t\t\t\t\tphoto: _that.headerImg\n\t\t\t\t};\n\t\t\t\tcontext.request({\n\t\t\t\t\turl: constant.url.uploadOwnerPhoto,\n\t\t\t\t\theader: context.getHeaders(),\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\tdata: obj, //动态数据\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\tif (res.statusCode != 200) {\n\t\t\t\t\t\t\twx.showToast({\n\t\t\t\t\t\t\t\ttitle: '头像上传失败',\n\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(e) {\n\t\t\t\t\t\twx.showToast({\n\t\t\t\t\t\t\ttitle: \"服务器异常了\",\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t},\n\t\t//退出系统\n\t\t_logout: function() {\n\t\t\tthis.logoutUser = true;\n\t\t},\n\t\t_cancleLogout: function() {\n\t\t\tthis.logoutUser = false;\n\t\t},\n\t\t_toPage:function(_url){\n\t\t\tuni.navigateTo({\n\t\t\t\turl:_url\n\t\t\t});\n\t\t},\n\t\t_doLogoutUser: function() {\n\t\t\tlet _data = {\n\t\t\t\ttoken: wx.getStorageSync('token')\n\t\t\t}\n\t\t\tcontext.request({\n\t\t\t\turl: constant.url.userLogout,\n\t\t\t\theader: context.getHeaders(),\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata: _data,\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tif (res.statusCode != 200) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\t\ttitle: res.data\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tuni.clearStorageSync();\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl:'/pages/login/login'\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tfail: function(error) {\n\t\t\t\t\t// 调用服务端登录接口失败\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '调用接口失败'\n\t\t\t\t\t});\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n"],"sourceRoot":""}